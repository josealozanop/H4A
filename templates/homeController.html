{% extends "layoutUsers.html" %}
{% block homeApp %}	

<div class="homeController" ng-controller="homeController" user-data={{data}} style="background-color:blue" resize-dispacher>

	<!-- layout horizontal -->
	<div class="container-fluid" ng-if="getScreenPosition() == 'horizontal'" ng-switch="sectionControll.selected" ng-click="isScanning() && clickOnScanning()">
		
		<!-- seccion de las habitaciones de la casa -->
		<div class="row" ng-switch-when="0">
			<div class="col-xs-1 leftArrow" ng-if="needNavigation == 1">
				<button class="btn" ng-class="{'disabled' : isFirstPage(), 'active' : scanning.leftArrow }" ng-click="!isScanning() && clickPrevious()"><</button>
			</div>
	
			<div class="roomsButtons" ng-class="{'col-xs-12' : needNavigation == 0, 'col-xs-10' : needNavigation == 1}">
				<div ng-repeat="fila in range(0, filas)">
					<div 
					class = "button"
					ng-repeat = "col in range(0, cols)"
					ng-show = "showButton(getButtonIndex(fila, col), rooms.length)" 
					style = "width : {{'{{buttonSize.width}}'}}%"
					ng-click = "!isScanning() && clickRoom(rooms[getButtonIndex(fila, col)])"
					ng-class = "{'selected' : isCurrentScanned(fila*cols + col)}"
					>
						<!-- botones para las habitaciones -->
						<div ng-if = "rooms[getButtonIndex(fila, col)].type != 'salir'" class="buttonLayout disabled" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span ng-bind="rooms[getButtonIndex(fila, col)].nombre_habitacion">
							</span>
							
							<img src="/H4A/web/images/svg/home.svg" alt="" />
							
							<span>
							</span>
						</div>
						
						<!-- boton para salir -->
						<div ng-if = "rooms[getButtonIndex(fila, col)].type == 'salir'" class="buttonLayout" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span>
								Salir
							</span>
							
							<img src="/H4A/web/images/svg/logOut.svg" alt="" />
							
							<span>
							</span>
						</div>
						
					</div>
					
				</div>
			</div>
			
			<div class="col-xs-1 rightArrow" ng-if="needNavigation == 1"> 
				<button ng-click="!isScanning() && clickNext()" class="btn" ng-class="{'disabled' : isLastPage(), 'active' : scanning.rightArrow}">></button>
			</div>

		</div>
		
		<!-- seccion de los sensores de una habitacion -->
		<div class="row" ng-switch-when="1" >
			<div class="col-xs-1 leftArrow" ng-if="needNavigation == 1">
				<button class="btn" ng-class="{'disabled' : isFirstPage(), 'active' : scanning.leftArrow}" ng-click="!isScanning() && clickPrevious()"><</button>
			</div>
							
			<div class="roomsButtons" ng-class="{'col-xs-12' : needNavigation == 0, 'col-xs-10' : needNavigation == 1}">
			
				<div ng-repeat="fila in range(0, filas)">
					<div 
					class = "button"
					ng-repeat = "col in range(0, cols)" 
					ng-show = "showButton(getButtonIndex(fila, col), roomSensors.length)" 
					style = "width : {{'{{buttonSize.width}}'}}%"
					ng-click = "!isScanning() && clickSensor(roomSensors[getButtonIndex(fila, col)])"
					ng-class = "{'selected' : isCurrentScanned(fila*cols + col)}"
					>
						<div class="buttonLayout" ng-if="roomSensors[getButtonIndex(fila, col)].type != 'salir'" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span>
								Valor: <span ng-bind = "roomSensors[getButtonIndex(fila, col)].Valor"></span>
							</span>
							
							
							<img src="/H4A/web/images/svg/bulb.svg" alt="" />
							
							<span ng-bind="roomSensors[getButtonIndex(fila, col)].nombre_sensor">
								
							</span>
						</div> 
						
						<div class="buttonLayout" ng-if="roomSensors[getButtonIndex(fila, col)].type == 'salir'" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span>
								Atrás
							</span>
							
							<img src="/H4A/web/images/svg/back.svg" alt="" />
							
							<span>
								&nbsp;
							</span>
						</div> 
					</div>
				</div>
			</div>
			
			<div class="col-xs-1 rightArrow" ng-if="needNavigation == 1"> 
				<button ng-click="!isScanning() && clickNext()" class="btn" ng-class="{'disabled' : isLastPage(), 'active' : scanning.rightArrow}">></button>
			</div>
		</div>
		
		<div class="col-xs-12" ng-switch-default>
			Error
		</div>
	</div>	
	
	<div class="container-fluid" ng-if="getScreenPosition() == 'vertical'" ng-switch="sectionControll.selected" ng-click="isScanning() && clickOnScanning()">
		<!-- seccion de las habitaciones de la casa -->
		<div class="row" ng-switch-when="0">
				
			<div class="roomsButtons col-xs-12">
				<div ng-repeat="fila in range(0, filas)">
					<div 
					class = "button"
					ng-repeat = "col in range(0, cols)"
					ng-show = "showButton(getButtonIndex(fila, col), rooms.length)" 
					style = "width : {{'{{buttonSize.width}}'}}%"
					ng-click = "!isScanning() && clickRoom(rooms[getButtonIndex(fila, col)])"
					ng-class = "{'selected' : isCurrentScanned(fila*cols + col)}"
					>
						<!-- botones para las habitaciones -->
						<div ng-if = "rooms[getButtonIndex(fila, col)].type != 'salir'" class="buttonLayout disabled" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span ng-bind="rooms[getButtonIndex(fila, col)].nombre_habitacion">
							</span>
							
							<img src="/H4A/web/images/svg/home.svg" alt="" />
							
							<span>
							</span>
						</div>
						
						<!-- boton para salir -->
						<div ng-if = "rooms[getButtonIndex(fila, col)].type == 'salir'" class="buttonLayout" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span>
								Salir
							</span>
							
							<img src="/H4A/web/images/svg/logOut.svg" alt="" />
							
							<span>
							</span>
						</div>
						
					</div>
					
				</div>
			</div>
		</div>
		
		<!-- seccion de los sensores de una habitacion -->
		<div class="row" ng-switch-when="1" >
					
			<div class="roomsButtons col-xs-12">
			
				<div ng-repeat="fila in range(0, filas)">
					<div 
					class = "button"
					ng-repeat = "col in range(0, cols)" 
					ng-show = "showButton(getButtonIndex(fila, col), roomSensors.length)" 
					style = "width : {{'{{buttonSize.width}}'}}%"
					ng-click = "!isScanning() && clickSensor(roomSensors[getButtonIndex(fila, col)])"
					ng-class = "{'selected' : isCurrentScanned(fila*cols + col)}"
					>
						<div class="buttonLayout" ng-if="roomSensors[getButtonIndex(fila, col)].type != 'salir'" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span>
								Valor: <span ng-bind = "roomSensors[getButtonIndex(fila, col)].Valor"></span>
							</span>
							
							
							<img src="/H4A/web/images/svg/bulb.svg" alt="" />
							
							<span ng-bind="roomSensors[getButtonIndex(fila, col)].nombre_sensor">
								
							</span>
						</div> 
						
						<div class="buttonLayout" ng-if="roomSensors[getButtonIndex(fila, col)].type == 'salir'" style = "height : {{'{{buttonSize.height}}'}}vh">
							<span>
								Atrás
							</span>
							
							<img src="/H4A/web/images/svg/back.svg" alt="" />
							
							<span>
								&nbsp;
							</span>
						</div> 
					</div>
				</div>
			</div>
			
			
		<div class="col-xs-12" ng-switch-default>
			Error
		</div>
	</div>	
	
	
	
</div>
{% endblock %}


